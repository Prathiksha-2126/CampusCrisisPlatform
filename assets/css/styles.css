:root{
  --bg: #f8fafc; /* very light gray-blue background */
  --elev: #e2e8f0;
  --card: #ffffff;
  --text: #1e293b; /* slate-800 */
  --muted: #64748b;
  --primary: #2563eb; /* campus blue */
  --border: #e2e8f0;
  --success: #16a34a;
  --warn: #f59e0b;
  --danger: #dc2626;
  --header-bg: #ffffff;
  --shadow-light: 0 2px 6px rgba(0,0,0,0.05);
  --shadow-medium: 0 4px 12px rgba(0,0,0,0.08);
}
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; 
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
}
/* Centered auth layout */
.auth-centered{
  min-height:100dvh; display:flex; flex-direction:column;
}
.auth-centered main{flex:1; display:flex; align-items:center; justify-content:center}

.container{width:min(1100px,90%); margin-inline:auto}
.header-inner{display:flex; align-items:center; justify-content:space-between; gap:16px}

.site-header{
  position: sticky; 
  top: 0; 
  z-index: 50; 
  background: var(--header-bg);
  border-bottom: 1px solid var(--border);
  box-shadow: var(--shadow-light);
}
.logo{
  font-family: 'Poppins', sans-serif;
  font-weight: 600; 
  letter-spacing: 0.5px; 
  text-decoration: none; 
  color: var(--text); 
  font-size: 1.2rem;
}
.logo span{color: var(--primary)}
.nav{display: flex; gap: 8px; align-items: center}
.nav a{
  color: var(--text); 
  text-decoration: none; 
  padding: 12px 16px; 
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 0.5px;
  border-bottom: 2px solid transparent;
  transition: all 0.2s ease;
}
.nav a:hover{
  color: var(--primary);
  border-bottom-color: var(--primary);
}
.nav a.active{
  color: var(--primary);
  border-bottom-color: var(--primary);
  background: none;
}

.site-footer{
  border-top:1px solid var(--border); 
  margin-top:40px; 
  padding:24px 0; 
  background: var(--card);
  color: var(--muted);
}
.footer-grid{display:grid; grid-template-columns:1fr 1fr; gap:24px}
.center{text-align:center}
.small{font-size:.9rem}
.muted{color:var(--muted)}

.hero{display:flex; justify-content:space-between; align-items:center; gap:16px; padding:24px 0}
.hero-actions{display:flex; gap:10px; flex-wrap:wrap}
.section-title{margin:8px 0 12px; font-size:1.1rem}

/* Professional Academic Cards */
.card{
  background: var(--card); 
  border: 1px solid var(--border); 
  border-radius: 8px; 
  padding: 20px; 
  box-shadow: var(--shadow-light);
  transition: all 0.2s ease;
}

.card:hover{
  transform: translateY(-2px);
  box-shadow: var(--shadow-medium);
  border-color: var(--primary);
}

/* Typography Hierarchy */
h1, h2, h3, h4, h5, h6 {
  font-family: 'Poppins', sans-serif;
  font-weight: 600;
  color: var(--text);
  margin: 0 0 16px 0;
  line-height: 1.3;
}

h1 { font-size: 2rem; }
h2 { font-size: 1.5rem; }
h3 { font-size: 1.25rem; }

p, td, label, span {
  font-family: 'Inter', sans-serif;
}

/* Academic Dashboard KPI Blocks */
.kpi {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  transition: all 0.2s ease;
}

.kpi:hover {
  border-color: var(--primary);
  box-shadow: var(--shadow-medium);
}

.kpi .num {
  font-size: 2.2rem;
  font-weight: 700;
  color: var(--primary);
  font-family: 'Poppins', sans-serif;
  margin-bottom: 4px;
  display: block;
}

.kpi .label {
  color: var(--muted);
  font-size: 0.9rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* KPI Grid Layout */
.kpi-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin: 24px 0;
}
.auth-grid{display:grid; gap:18px; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); padding:32px 0}
.auth-card h1{margin:0 0 6px}
.auth-card.single{max-width:460px; margin-inline:auto; text-align:center}
.auth-logo{font-size:2rem; margin-bottom:6px}
.auth-toggle{display:flex; justify-content:center; align-items:center; gap:10px; margin-bottom:8px}
.auth-toggle .link{background:transparent; border:none; color:#93c5fd; cursor:pointer; padding:6px 8px; border-radius:8px}
.auth-toggle .link[aria-pressed="true"], .auth-toggle .link:hover{background:rgba(59,130,246,.15)}

.grid{display:grid; gap:16px}
.grid.two{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}

.form{display:grid; gap:12px}
label{display:grid; gap:8px; font-weight:600}
input,select,textarea{
  background: var(--card); 
  border: 1px solid var(--border); 
  color: var(--text); 
  border-radius: 6px;
  padding: 12px 16px; 
  outline: none; 
  width: 100%;
  font-family: 'Inter', sans-serif;
  transition: border-color 0.2s ease;
}
input:focus,select:focus,textarea:focus{
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}
textarea{resize:vertical}

/* Professional Academic Buttons */
.btn{
  background: var(--card); 
  color: var(--text); 
  border: 1px solid var(--border); 
  border-radius: 6px; 
  padding: 10px 16px; 
  cursor: pointer;
  font-family: 'Inter', sans-serif;
  font-weight: 500;
  transition: all 0.2s ease;
}
.btn:hover{
  border-color: var(--primary);
  color: var(--primary);
}
.btn.small{padding: 8px 12px; font-size: 0.9rem}
.btn.full{width: 100%}
.btn.primary{
  background: var(--primary); 
  color: white; 
  border-color: var(--primary);
}
.btn.primary:hover{
  background: #1d4ed8;
  border-color: #1d4ed8;
}
.btn.secondary{
  background: var(--success); 
  color: white; 
  border-color: var(--success);
}
.btn.secondary:hover{
  background: #15803d;
  border-color: #15803d;
}

.grid.cards{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
.alert-card{
  display:grid; 
  gap:8px; 
  position:relative;
  transition: all 0.3s ease;
}

.alert-card:hover{
  transform: translateY(-5px) scale(1.02);
}

.alert-card:hover .title{
  color: #60a5fa;
}

.alert-card:hover .badge{
  transform: scale(1.05);
  filter: brightness(1.2);
}

.alert-card .meta{display:flex; align-items:center; gap:8px; color:var(--muted); font-size:.9rem}
.alert-card .title{
  font-weight:700;
  transition: color 0.3s ease;
}
/* Professional Academic Badges */
.badge{
  display: inline-flex; 
  align-items: center; 
  padding: 4px 12px; 
  border-radius: 4px; 
  font-size: 0.75rem; 
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border: none;
  transition: all 0.2s ease;
}
.badge.red{
  background: #fef2f2; 
  color: var(--danger); 
  border: 1px solid #fecaca;
}
.badge.yellow{
  background: #fffbeb; 
  color: #d97706; 
  border: 1px solid #fed7aa;
}
.badge.green{
  background: #f0fdf4; 
  color: var(--success); 
  border: 1px solid #bbf7d0;
}
.category{opacity:.95}
/* Urgent modifier */
.alert-card.urgent{box-shadow:0 0 0 2px rgba(239,68,68,.45), 0 0 22px rgba(239,68,68,.25)}

.table-responsive{overflow:auto}
.table{width:100%; border-collapse:collapse}
.table th,.table td{border-bottom:1px solid var(--border); padding:12px 14px; text-align:left}
/* Professional Academic Table Headers */
.table th{
  position: sticky; 
  top: 0; 
  background: var(--primary);
  color: white;
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 0.5px;
}
/* Clean zebra striping for academic tables */
.table tbody tr:nth-child(odd){
  background: #f8fafc;
}

/* Professional Admin Action Buttons */
.icon-btn{
  background: transparent; 
  border: 1px solid transparent; 
  color: var(--text); 
  padding: 8px 12px; 
  border-radius: 6px; 
  cursor: pointer;
  font-size: 0.9rem;
  transition: all 0.2s ease;
}
.icon-btn:hover{
  background: var(--primary); 
  color: white;
  border-color: var(--primary);
}
.icon-btn svg{width:16px; height:16px; display:block; fill:currentColor}

/* Filter controls */
.filter-controls{display:flex; gap:10px; align-items:center; margin:10px 0}
.filter-controls input[type="search"]{max-width:280px}

.posts{display:grid; gap:12px}
.post{border-left:4px solid #334155; padding-left:12px}
.post .author{font-weight:700}
.post .time{color:var(--muted); font-size:.85rem}
.comment{margin-left:8px; padding-left:12px; border-left:2px dashed #334155; color:#cbd5e1}

/* Professional Academic Map Styles */
.map-header{text-align:center; margin-bottom:20px}
.map-filters{
  display: flex; 
  gap: 10px; 
  align-items: center; 
  margin: 20px 0; 
  flex-wrap: wrap; 
  justify-content: center;
}
.map-filters .btn{
  font-size: 14px; 
  padding: 8px 16px;
  background: var(--card);
  border: 1px solid var(--border);
  color: var(--text);
  transition: all 0.2s ease;
}
.map-filters .btn:hover,
.map-filters .btn.active{
  background: var(--primary); 
  color: white;
  border-color: var(--primary);
}

.map-container{position:relative}
.map{height:65vh; border-radius:12px; border:1px solid var(--border); position:relative}

.map-legend{
  position:absolute; 
  bottom:20px; 
  right:20px; 
  background:rgba(0,0,0,0.8); 
  color:#fff; 
  padding:15px; 
  border-radius:8px; 
  font-size:12px; 
  z-index:1000;
  min-width:140px
}
.map-legend h4{margin:0 0 10px 0; font-size:14px; color:#fff}
.legend-item{display:flex; align-items:center; margin:5px 0}
.legend-color{
  display:inline-block; 
  width:12px; 
  height:12px; 
  border-radius:50%; 
  margin-right:8px
}
.legend-color.urgent{background:#ef4444}
.legend-color.active{background:#f59e0b}
.legend-color.resolved{background:#16a34a}
.legend-color.facility{background:#3b82f6}

.map-footer{margin-top:10px; text-align:center}

/* Map Markers & Popups */
.emoji-marker{
  background:transparent !important; 
  border:none !important; 
  text-align:center; 
  font-size:20px; 
  line-height:1;
  display:flex;
  align-items:center;
  justify-content:center
}
.facility-marker{font-size:18px}

.facility-popup h4{margin:0 0 8px 0; color:#1f2937}
.facility-popup p{margin:0; color:#6b7280; font-size:14px}

.issue-popup h4{margin:0 0 10px 0; color:#1f2937; font-size:16px}
.issue-popup p{margin:4px 0; font-size:13px}
.issue-popup .badge{
  padding:2px 6px; 
  border-radius:4px; 
  font-size:11px; 
  font-weight:bold
}
.issue-popup .badge.red{background:#ef4444; color:white}
.issue-popup .badge.yellow{background:#f59e0b; color:black}
.issue-popup .badge.green{background:#16a34a; color:white}

/* Modal */
.modal{position:fixed; inset:0; display:none; z-index:1000}
.modal[open], .modal.active{display:block}
.modal-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.7)}
.modal-dialog{position:relative; background:var(--card); border:1px solid var(--border); width:min(700px,92%); margin:5vh auto; padding:24px; border-radius:12px; max-height:90vh; overflow-y:auto}
.modal-close{position:absolute; right:15px; top:15px; background:transparent; color:var(--text); border:none; font-size:1.4rem; cursor:pointer; z-index:10}
.modal-close:hover{color:#60a5fa}

/* Issue Details Modal */
.issue-details-modal{padding:10px 0}
.modal-header{display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; padding-bottom:15px; border-bottom:1px solid var(--border)}
.modal-header h2{margin:0; color:#60a5fa; font-size:1.4rem}
.modal-body{padding:0}
.detail-grid{display:grid; gap:15px; grid-template-columns:1fr 1fr}
.detail-item{display:flex; flex-direction:column; gap:5px}
.detail-item.full-width{grid-column:1/-1}
.detail-item strong{color:#93c5fd; font-size:0.9rem}
.detail-item span{color:var(--text)}
.detail-item p{margin:5px 0 0 0; color:var(--muted); line-height:1.5}

@media (max-width: 600px) {
  .detail-grid{grid-template-columns:1fr}
  .modal-dialog{margin:2vh auto; width:95%}
}

/* Details Modal (dashboard) */
#details-modal{position:fixed; inset:0; width:100%; height:100%; z-index:1000}
#details-modal.hidden{display:none}
.modal-overlay{position:absolute; inset:0; background:rgba(0,0,0,.6)}
.modal-content{position:relative; max-width:640px; margin:10vh auto; background:var(--card); border:1px solid var(--border); border-radius:12px; padding:20px}
.modal-close-btn{position:absolute; right:10px; top:8px; background:transparent; color:var(--text); border:none; font-size:1.6rem; cursor:pointer}

/* Utility */
.hidden{display:none !important}

/* Responsive tweaks */
@media (max-width:600px){
  .hero{flex-direction:column; align-items:flex-start}
  .footer-grid{grid-template-columns:1fr}
}

/* Old KPI styles removed - using new academic KPI styles above */

/* Two-column page layout (report) */
.two-col-page{display:grid; grid-template-columns:2fr 1fr; gap:18px}
.two-col-page .col-aside .tips{position:sticky; top:84px}
@media (max-width:900px){
  .two-col-page{grid-template-columns:1fr}
}

/* Forum post layout with avatar */
.post.row{display:flex; gap:12px; align-items:flex-start}
.post .avatar{width:36px; height:36px; border-radius:50%; background:#1f2937; display:inline-flex; align-items:center; justify-content:center; font-weight:700}
.post .content{flex:1}

/* Old map filter styles removed - using academic styles above */

/* ðŸ’¬ Legend */
.legend {
  background: rgba(0,0,0,0.6);
  color: #fff;
  padding: 10px;
  border-radius: 8px;
  font-size: 12px;
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
}
.legend i {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin-right: 4px;
  border-radius: 3px;
}
/* ðŸŒŸ Enhanced Glowing Markers */
.glow-marker {
  filter: drop-shadow(0 0 8px rgba(239,68,68,0.9));
  transition: all 0.3s ease;
}

.glow-marker:hover {
  filter: drop-shadow(0 0 12px rgba(239,68,68,1)) drop-shadow(0 0 20px rgba(239,68,68,0.6));
  transform: scale(1.1);
}

/* Clean marker styling without flickering animations */
.leaflet-interactive {
  transition: opacity 0.2s ease;
}

.leaflet-interactive:hover {
  opacity: 0.8;
}

/* Enhanced popup styling */
.issue-popup {
  min-width: 250px;
  font-family: 'Inter', sans-serif;
}

.issue-popup h4 {
  margin: 0 0 12px 0;
  color: #1f2937;
  font-size: 16px;
  font-weight: 700;
  border-bottom: 2px solid #e5e7eb;
  padding-bottom: 8px;
}

.issue-popup p {
  margin: 6px 0;
  font-size: 13px;
  line-height: 1.4;
}

.issue-popup .description {
  margin-top: 10px;
  padding-top: 8px;
  border-top: 1px solid #e5e7eb;
  font-style: italic;
  color: #6b7280;
}

.issue-popup .badge {
  padding: 3px 8px;
  border-radius: 12px;
  font-size: 11px;
  font-weight: bold;
  text-transform: uppercase;
}

.issue-popup .badge.red {
  background: #fef2f2;
  color: #dc2626;
  border: 1px solid #fecaca;
}

.issue-popup .badge.yellow {
  background: #fffbeb;
  color: #d97706;
  border: 1px solid #fed7aa;
}

.issue-popup .badge.green {
  background: #f0fdf4;
  color: #16a34a;
  border: 1px solid #bbf7d0;
}

/* Resource Cards Styles */
.resource-card {
  border-left: 4px solid var(--primary);
  transition: all 0.2s ease;
  min-height: 200px;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

.resource-card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-medium);
}

.resource-card.unavailable {
  border-left-color: var(--muted);
  opacity: 0.7;
}

.resource-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
  gap: 8px;
  flex-wrap: wrap;
}

.resource-header h3 {
  margin: 0;
  font-size: 1.05rem;
  font-weight: 600;
  color: var(--text);
  line-height: 1.3;
  flex: 1;
  min-width: 0;
  word-break: break-word;
}

.resource-category {
  background: var(--elev);
  color: var(--muted);
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  flex-shrink: 0;
  white-space: nowrap;
}

.resource-status {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.status-badge {
  padding: 4px 10px;
  border-radius: 16px;
  font-size: 0.8rem;
  font-weight: 500;
  text-transform: capitalize;
}

.status-available {
  background: #f0fdf4;
  color: #16a34a;
  border: 1px solid #bbf7d0;
}

.status-low-stock {
  background: #fffbeb;
  color: #d97706;
  border: 1px solid #fed7aa;
}

.status-out-of-stock, .status-unavailable {
  background: #fef2f2;
  color: #dc2626;
  border: 1px solid #fecaca;
}

.status-maintenance {
  background: #f3f4f6;
  color: #6b7280;
  border: 1px solid #d1d5db;
}

.quantity {
  font-weight: 600;
  color: var(--primary);
  font-size: 0.9rem;
}

.resource-notes {
  font-size: 0.85rem;
  color: var(--muted);
  margin: 8px 0;
  font-style: italic;
}

.resource-meta {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 12px;
  padding-top: 8px;
  border-top: 1px solid var(--border);
}

.resource-meta small {
  font-size: 0.75rem;
}

/* Admin Resource Table Styles */
.resources-table {
  background: var(--card);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: var(--shadow-light);
  border: 1px solid var(--border);
}

.resources-table th {
  background: var(--elev);
  color: var(--text);
  font-weight: 600;
  padding: 12px 8px;
  text-align: left;
  border-bottom: 2px solid var(--border);
  font-size: 0.9rem;
}

.resources-table td {
  padding: 12px 8px;
  border-bottom: 1px solid var(--border);
  vertical-align: middle;
}

.resources-table tbody tr:hover {
  background: #f8fafc;
}

.resources-table tbody tr:last-child td {
  border-bottom: none;
}

.resource-status-select,
.resource-quantity-input,
.resource-unit-input {
  width: 100%;
  padding: 6px 10px;
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: 0.85rem;
  background: var(--card);
  transition: border-color 0.2s ease;
}

.resource-status-select:focus,
.resource-quantity-input:focus,
.resource-unit-input:focus,
.resource-notes-input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

.resource-quantity-input {
  max-width: 80px;
  text-align: center;
}

.resource-unit-input {
  max-width: 70px;
  text-align: center;
}

.resource-notes-input {
  width: 100%;
  min-height: 50px;
  max-height: 80px;
  padding: 6px 10px;
  border: 1px solid var(--border);
  border-radius: 6px;
  font-size: 0.85rem;
  resize: vertical;
  font-family: inherit;
  background: var(--card);
  transition: border-color 0.2s ease;
}

.resource-available-checkbox {
  transform: scale(1.3);
  cursor: pointer;
}

.resources-table .btn {
  padding: 6px 12px;
  font-size: 0.8rem;
  border-radius: 6px;
  background: var(--primary);
  color: white;
  border: none;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

.resources-table .btn:hover {
  background: #1d4ed8;
}

.resources-table .btn:active {
  transform: translateY(1px);
}

